# 경로 구조

## 변경 사항

경로를 명확하게 분리하여 로직을 단순화했습니다.

## 경로 구조

### 공개 경로 (인증 불필요)
- `/` → 로그인 페이지로 리다이렉트
- `/login` → 로그인 페이지
- `/register` → 회원가입 페이지

### 보호된 경로 (인증 필요)
- `/dashboard` → 대시보드 (VM 관리)
- `/admin/users` → 관리자 페이지
- `/vnc/[uuid]` → VNC 콘솔

## 동작 방식

### 루트 경로 (`/`)
- 항상 `/login`으로 리다이렉트
- 별도의 인증 확인 없음

### 로그인 페이지 (`/login`)
- 공개 경로
- 세션 확인 요청 없음
- 로그인 성공 시 `/dashboard`로 이동

### 대시보드 (`/dashboard`)
- 인증 필요
- 토큰이 있으면 일단 인증된 것으로 간주 → 대시보드 표시
- 세션 확인은 백그라운드에서 진행
- 인증되지 않은 경우 `/login`으로 리다이렉트

## 파일 구조

```
app/
├── page.tsx              # 루트 경로 (로그인으로 리다이렉트)
├── login/
│   └── page.tsx          # 로그인 페이지
├── register/
│   └── page.tsx          # 회원가입 페이지
├── dashboard/
│   └── page.tsx          # 대시보드 (기존 app/page.tsx)
├── admin/
│   └── users/
│       └── page.tsx     # 관리자 페이지
└── vnc/
    └── [uuid]/
        └── page.tsx      # VNC 콘솔
```

## 장점

1. **명확한 경로 분리**: 각 경로가 명확한 용도를 가짐
2. **단순한 로직**: 루트 경로는 단순히 리다이렉트만 수행
3. **디버깅 용이**: 경로별로 명확하게 분리되어 문제 추적이 쉬움
4. **유지보수 용이**: 각 경로가 독립적으로 관리됨

## 테스트

1. **루트 경로 접속**: `https://limen.kr/` → `/login`으로 리다이렉트
2. **로그인 성공**: `/login` → `/dashboard`로 이동
3. **대시보드 접속**: 인증된 사용자는 대시보드 표시, 인증되지 않은 사용자는 `/login`으로 리다이렉트



