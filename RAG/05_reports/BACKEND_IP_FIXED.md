# 백엔드 IP 주소 고정 확인

## ✅ 중요: 백엔드 주소는 10.0.0.100으로 고정

라우팅 수정 시 **백엔드 IP 주소(10.0.0.100)는 절대 변경되지 않습니다**.

## 현재 상태 확인

### 1. eth0 IP 주소
- **Primary IP**: `10.0.0.100/24` ✅ 유지됨
- **Secondary IP**: `10.0.0.110/24` (있을 수 있음)

### 2. 로컬 네트워크 라우팅
- `10.0.0.0/24 dev eth0` ✅ 유지됨
- 프론트엔드(10.0.0.10) → 백엔드(10.0.0.100) 통신 정상

### 3. 백엔드 서비스
- 포트: `18443`
- 바인딩: `*:18443` (모든 인터페이스)
- 접근 가능: `http://10.0.0.100:18443` ✅

## 라우팅 수정 내용

### 변경된 것 (외부 인터넷용)
- ❌ 제거: `default via 10.0.0.1 dev eth0` (작동하지 않는 게이트웨이)
- ✅ 유지: `default via 222.113.30.129 dev eth1` (실제 인터넷 게이트웨이)

### 변경되지 않은 것 (로컬 네트워크)
- ✅ 유지: `10.0.0.0/24 dev eth0` (로컬 네트워크 라우팅)
- ✅ 유지: `eth0`의 IP 주소 `10.0.0.100`
- ✅ 유지: 백엔드 서비스 바인딩

## 보장 사항

1. **eth0의 IP 주소는 절대 변경되지 않음**
   - 라우팅 스크립트는 default route만 제거
   - eth0의 IP 주소는 WSL2가 자동으로 관리

2. **로컬 네트워크 라우팅은 유지됨**
   - `10.0.0.0/24` 네트워크는 여전히 eth0를 통해 라우팅
   - 프론트엔드 ↔ 백엔드 통신 정상

3. **백엔드 서비스는 계속 10.0.0.100에서 실행**
   - PM2로 실행 중인 백엔드는 IP 주소 변경 없이 계속 작동
   - 포트 18443은 모든 인터페이스에 바인딩되어 있음

## 자동 수정 스크립트 보호 기능

`fix-wsl2-routing-auto.sh` 스크립트는:
- ✅ eth0의 IP 주소가 10.0.0.100인지 확인
- ✅ 로컬 네트워크 라우팅이 유지되는지 확인
- ✅ default route만 제거 (로컬 네트워크는 건드리지 않음)

## 테스트 방법

```bash
# 1. eth0 IP 주소 확인
ip addr show eth0 | grep "10.0.0.100"

# 2. 로컬 네트워크 라우팅 확인
ip route show | grep "10.0.0.0/24 dev eth0"

# 3. 백엔드 서비스 확인
curl http://10.0.0.100:18443/api/health

# 4. 프론트엔드에서 접근 가능한지 확인 (프론트엔드 서버에서)
curl http://10.0.0.100:18443/api/health
```

## 결론

**백엔드 주소 10.0.0.100은 절대 변경되지 않습니다.**
- 라우팅 수정은 외부 인터넷 연결만 수정
- 로컬 네트워크(10.0.0.0/24)는 그대로 유지
- 프론트엔드-백엔드 통신은 정상 작동



