# 프론트엔드 네트워크 설정 요구사항 (최소)

## 프론트엔드 서버 설정

### 랜카드
- **인터페이스**: 내부망 연결용 (예: eth0, eth1)
  - **실제 인터페이스**: `enp1s0` (확인됨)
- **상태**: UP (활성화)
- **네트워크**: `10.0.0.0/24`

### IP 주소
- **내부망 IP**: `10.0.0.10` (또는 10.0.0.x)
  - **실제 IP**: `10.0.0.10/24` (enp1s0) ✅
- **서브넷**: `255.255.255.0` (/24)

### 백엔드 접근
- **백엔드 IP**: `10.0.0.100`
- **백엔드 포트**: `18443`
- **접근 URL**: `http://10.0.0.100:18443`
- **Agent 포트**: `9000`
- **Agent URL**: `http://10.0.0.100:9000`

## 최소 체크리스트

- [x] 프론트엔드가 10.0.0.0/24 네트워크에 연결
- [x] 프론트엔드 IP가 10.0.0.x 대역 (10.0.0.10)
- [x] 백엔드(10.0.0.100:18443) 접근 가능
- [x] Agent(10.0.0.100:9000) 접근 가능
- [ ] 방화벽에서 10.0.0.100:18443 허용 (확인 필요)
- [ ] 방화벽에서 10.0.0.100:9000 허용 (확인 필요)

## 연결 확인

### 프론트엔드에서 테스트
```bash
# 백엔드 API 헬스체크
curl http://10.0.0.100:18443/api/health

# Agent 헬스체크
curl http://10.0.0.100:9000/health

# 네트워크 인터페이스 확인
ip addr show enp1s0 | grep "inet "

# 라우팅 확인
ip route get 10.0.0.100
```

### 예상 출력
```bash
# 백엔드 API
{"db":"connected","libvirt":"connected","status":"ok","time":"..."}

# Agent
{"status":"ok","uptime":...}

# 네트워크 인터페이스
inet 10.0.0.10/24

# 라우팅
10.0.0.100 dev enp1s0 src 10.0.0.10
```

## 추가 설정 (외부 접근용)

### 인터넷 IP (선택사항)
- **인터페이스**: `enp3s0` (확인됨)
- **인터넷 IP**: `14.54.57.159/24`
- **게이트웨이**: `14.54.57.1`
- **용도**: 외부 사용자 접근 (Envoy 프록시)

### 리스닝 포트
- **포트 80**: HTTP (Envoy)
- **포트 443**: HTTPS (Envoy)
- **포트 9444**: Next.js 프론트엔드 (localhost)
- **포트 9445**: darc.kr (localhost)

## 요약

**필수 사항:**
- ✅ 프론트엔드 IP: `10.0.0.10` (enp1s0)
- ✅ 백엔드 접근: `http://10.0.0.100:18443`
- ✅ 네트워크: `10.0.0.0/24`
- ✅ Agent 접근: `http://10.0.0.100:9000`

**선택 사항:**
- 인터넷 IP: `14.54.57.159` (enp3s0) - 외부 접근용

## 통신 경로

```
프론트엔드 (10.0.0.10, enp1s0)
  ↓ 내부망 (10.0.0.0/24)
백엔드 (10.0.0.100, eth1)
  ↓ 포트 18443
LIMEN 백엔드 API

프론트엔드 (10.0.0.10, enp1s0)
  ↓ 내부망 (10.0.0.0/24)
백엔드 (10.0.0.100, eth1)
  ↓ 포트 9000
Agent 서비스
```




