# 네트워크 레벨 보안 계획

> [← 아키텍처](./overview.md) | [네트워크 보안](./network-security.md)

## 개요

향후 스위치 도입 및 스노트(Snort) 규칙 기반 방화벽/IPS 기능을 직접 개발할 예정입니다.

---

## 계획된 기능

### 1. 스위치 도입

**목적**: 네트워크 레벨 트래픽 제어 및 관리

**기능**:
- VLAN 분리
- 포트 기반 접근 제어
- 트래픽 모니터링
- 네트워크 세그멘테이션

---

### 2. 스노트(Snort) 기반 방화벽/IPS

**목적**: 네트워크 레벨 침입 탐지 및 방지

**기능**:
- 실시간 패킷 분석
- 침입 시도 탐지
- 자동 차단 및 알림
- 커스텀 규칙 작성

**스노트 규칙 예시**:
```
# LIMEN 관리자 엔드포인트 보호
alert tcp any any -> $LIMEN_SERVERS 18443 (msg:"Unauthorized admin access attempt"; content:"/api/admin"; sid:1000001;)

# 비정상적인 요청 패턴 탐지
alert tcp any any -> $LIMEN_SERVERS 18443 (msg:"Suspicious request pattern"; threshold:type threshold, track by_src, count 100, seconds 60; sid:1000002;)
```

---

### 3. 네트워크 레벨 IP 필터링

**목적**: 애플리케이션 레벨 IP 화이트리스트 대체

**장점**:
- 애플리케이션 부하 감소
- 더 빠른 처리 속도
- 네트워크 레벨에서 차단

**현재 상태**:
- 애플리케이션 레벨 IP 화이트리스트 구현됨
- 네트워크 레벨 구현 시 대체 예정

---

### 4. 침입 탐지 및 방지 시스템 (IDS/IPS)

**기능**:
- 실시간 트래픽 분석
- 공격 패턴 탐지
- 자동 차단
- 상세 로깅 및 리포트

---

## 아키텍처

```
┌─────────────┐
│   Internet   │
└──────┬──────┘
       │
       ▼
┌─────────────────┐
│  스위치/라우터   │  ← 네트워크 레벨 보안
│  (스노트 IPS)   │
└──────┬──────────┘
       │
       ▼
┌─────────────────┐
│  LIMEN Backend  │  ← 애플리케이션 레벨 보안
│  (Rate Limit)   │
└─────────────────┘
```

---

## 다층 방어 전략

### 레이어 1: 네트워크 레벨 (향후 구현)
- 스위치 기반 접근 제어
- 스노트 기반 IPS/IDS
- 네트워크 레벨 IP 필터링
- DDoS 방어

### 레이어 2: 애플리케이션 레벨 (현재 구현)
- Rate Limiting
- JWT 인증
- CORS 제한
- 보안 헤더

### 레이어 3: 데이터 레벨 (현재 구현)
- 데이터베이스 접근 제어
- 암호화
- 백업 및 복구

---

## 마이그레이션 계획

### Phase 1: 스위치 도입
- [ ] 스위치 하드웨어/소프트웨어 선정
- [ ] 네트워크 토폴로지 설계
- [ ] VLAN 구성
- [ ] 기본 접근 제어 설정

### Phase 2: 스노트 통합
- [ ] 스노트 설치 및 설정
- [ ] 커스텀 규칙 작성
- [ ] LIMEN 특화 규칙 개발
- [ ] 모니터링 대시보드 구성

### Phase 3: 애플리케이션 레벨 기능 조정
- [ ] IP 화이트리스트 기능 선택적 사용
- [ ] 네트워크 레벨 보안과의 중복 제거
- [ ] 다층 방어 전략 최적화

---

## 현재 애플리케이션 레벨 보안 기능

### 유지할 기능
- ✅ **Rate Limiting**: 애플리케이션 레벨에서 필요
- ✅ **JWT 인증**: 애플리케이션 로직
- ✅ **CORS 제한**: 애플리케이션 레벨 정책
- ✅ **보안 헤더**: HTTP 응답 헤더
- ✅ **보안 스캔**: 코드/의존성 취약점

### 선택적 사용 기능
- ⚠️ **IP 화이트리스트**: 네트워크 레벨로 대체 예정
  - 현재: 애플리케이션 레벨 보안 계층으로 사용
  - 향후: 네트워크 레벨 보안 구축 시 비활성화 가능

---

## 관련 문서

- [보안 강화 가이드](../04-operations/security/hardening.md)
- [아키텍처 개요](./overview.md)
- [시스템 설계](./system-design.md)

---

**태그**: `#네트워크-보안` `#스위치` `#스노트` `#IPS` `#IDS` `#방화벽`

**마지막 업데이트**: 2024-12-23













