# 번들 크기 분석 가이드

> **LIMEN 프론트엔드 번들 크기 분석 및 최적화 가이드**

**브레드크럼**: [홈](../../00-home.md) > [프론트엔드](../README.md) > [성능](./) > 번들 분석 가이드

---

## 📊 번들 분석 실행

### 실행 방법

```bash
cd /home/darc/LIMEN/frontend
npm run build:analyze
```

### 분석 결과 확인

빌드가 완료되면 브라우저가 자동으로 열리며 번들 분석 리포트를 확인할 수 있습니다.

또는 `.next/analyze/` 폴더에서 리포트 파일을 확인할 수 있습니다.

---

## 🔍 확인 사항

### 1. 라우트별 번들 크기

각 페이지의 번들 크기를 확인:
- `/` (메인 대시보드)
- `/login`
- `/register`
- `/admin/users`
- `/vnc/[id]`

**목표:**
- 각 라우트: < 200KB (gzipped)
- 초기 로드: < 300KB (gzipped)

### 2. 큰 의존성 확인

번들에서 큰 비중을 차지하는 라이브러리:
- `@tanstack/react-query` (필수)
- `@novnc/novnc` (동적 import로 제외됨)
- `react`, `react-dom` (필수)

**확인 사항:**
- 불필요한 의존성 제거
- 대안 라이브러리 검토
- 동적 import 적용 가능 여부

### 3. 중복 코드 확인

여러 번들에 포함된 코드:
- 공통 유틸리티
- 공통 컴포넌트
- 공통 라이브러리

**개선 방법:**
- 코드 스플리팅
- 공통 코드 분리
- Tree shaking 확인

### 4. 최적화 포인트

분석 결과를 바탕으로:
- 큰 모듈 식별
- 중복 코드 제거
- 동적 import 적용
- 코드 스플리팅 개선

---

## 📈 최적화 전략

### 현재 적용된 최적화

1. **동적 Import**
   - VNCViewer (948K 제외)
   - SnapshotManager
   - ReactQueryDevtools (개발 환경만)
   - UI 컴포넌트 (Loading, ThemeToggle, Skeleton)

2. **번들 최적화**
   - Tree shaking
   - Code splitting
   - Console 제거 (프로덕션)

3. **이미지 최적화**
   - Next.js Image 컴포넌트
   - AVIF, WebP 포맷

---

## 🎯 최적화 목표

### 번들 크기 목표

- **초기 로드**: < 300KB (gzipped)
- **각 라우트**: < 200KB (gzipped)
- **총 번들**: < 1MB (gzipped)

### 성능 목표

- **LCP**: < 2.5초
- **FID**: < 100ms
- **CLS**: < 0.1

---

## 📝 분석 결과 기록

분석 후 다음 정보를 기록:

1. **현재 번들 크기**
   - 각 라우트의 크기
   - 큰 의존성 목록

2. **발견된 문제**
   - 큰 모듈
   - 중복 코드
   - 최적화 포인트

3. **적용된 개선**
   - 동적 import 적용
   - 코드 스플리팅
   - 의존성 제거

4. **성능 개선 효과**
   - 번들 크기 감소
   - 로딩 시간 개선
   - 성능 점수 향상

---

## 관련 문서

- [번들 최적화](./bundle.md)
- [성능 최적화](./optimization.md)
- [최적화 요약](./optimization-summary.md)

---

**태그**: `#번들분석` `#최적화` `#성능` `#가이드`

**카테고리**: 문서 > 프론트엔드 > 성능 > 번들 분석 가이드

**마지막 업데이트**: 2024-12-14








